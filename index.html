<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Saintpaulia Studio ¬∑ Plants & Care</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&display=swap"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="style.css" />
  <meta name="theme-color" content="#E5D7C4">
  <title>Saintpaulia Studio</title>
<script src="https://unpkg.com/@supabase/supabase-js@2"></script>
<script>
  const SUPABASE_URL = "https://YOUR-PROJECT.supabase.co";
  const SUPABASE_ANON_KEY = "YOUR-ANON-KEY";
  const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
</script>
</head>
<body>
  <header>
    <div class="site-brand">
      <img src="logo.svg" alt="Saintpaulia Studio logo" class="site-logo" />
      <h1>Saintpaulia Studio</h1>
    </div>
    <nav>
      <button class="nav-btn active" data-tab="tab-dashboard" aria-controls="tab-dashboard" aria-selected="true">Dashboard</button>
      <button class="nav-btn" data-tab="tab-cultivars" aria-controls="tab-cultivars" aria-selected="false">Plants</button>
      <button class="nav-btn" data-tab="tab-hybrid" aria-controls="tab-hybrid" aria-selected="false">Hybrid Projects</button>
      <button class="nav-btn" data-tab="tab-care" aria-controls="tab-care" aria-selected="false">Care Log</button>
      <button class="nav-btn" data-tab="tab-calendar" aria-controls="tab-calendar" aria-selected="false">Calendar</button>
      <button class="nav-btn" data-tab="tab-guide" aria-controls="tab-guide" aria-selected="false">Care Guide</button>
      <button class="nav-btn" data-tab="tab-settings" aria-controls="tab-settings" aria-selected="false">Settings</button>
    </nav>
  </header>

  <main>
    <!-- DASHBOARD -->
    <section id="tab-dashboard" class="tab active" role="region" aria-label="Dashboard">
      <div class="grid-2">
        <div class="card">
          <h2>Upcoming & Overdue Tasks</h2>
          <p class="card-subtitle">Spot looming chores and any tasks that need a quick catch-up before plants notice.</p>
          <div class="toolbar">
            <label>Show: 
              <select id="filterTaskWindow">
                <option value="7">Next 7 days</option>
                <option value="14" selected>Next 14 days</option>
                <option value="30">Next 30 days</option>
              </select>
            </label>
          </div>
          <ul id="taskList" class="list"></ul>
        </div>
        <div class="card">
          <h2>Quick Add Care</h2>
          <p class="card-subtitle">Log everyday watering, feeding, and upkeep in just a few taps to keep history current.</p>
          <form id="quickCareForm" class="form-grid">
            <label>Plant
              <select id="qcCultivar" required></select>
            </label>
            <label>Action
              <select id="qcAction" required>
                <option value="Watered">Watered</option>
                <option value="Fertilized">Fertilized</option>
                <option value="Repotted">Repotted</option>
                <option value="Groomed">Groomed</option>
                <option value="Treated pests">Treated pests</option>
                <option value="Propagated">Propagated</option>
              </select>
            </label>
            <label>Date
              <input type="date" id="qcDate" required />
            </label>
            <label>Notes
              <input type="text" id="qcNotes" placeholder="Dilution, wick check, etc." />
            </label>
            <button type="submit">Add Care Entry</button>
          </form>
        </div>
        <div class="card">
          <h2>Quick Add Task</h2>
          <p class="card-subtitle">Capture reminders and future plans without leaving your dashboard workspace.</p>
          <form id="dashboardTaskForm" class="form-grid form-grid-compact">
            <label>Title
              <input id="dashTaskTitle" required placeholder="What needs attention?" />
            </label>
            <label>Due Date
              <input type="date" id="dashTaskDate" required />
            </label>
            <label>Icon
              <select id="dashTaskIcon">
                <option value="üìå">üìå General</option>
                <option value="ü™¥">ü™¥ Planting</option>
                <option value="üß∫">üß∫ Maintenance</option>
                <option value="üß™">üß™ Experiment</option>
                <option value="üìù">üìù Notes</option>
                <option value="‚≠ê">‚≠ê Milestone</option>
              </select>
            </label>
            <label>Notes
              <input id="dashTaskNotes" placeholder="Optional details" />
            </label>
            <div class="form-actions">
              <button type="submit">Add Task</button>
            </div>
          </form>
        </div>
      </div>
    </section>

    <!-- PLANTS -->
    <section id="tab-cultivars" class="tab" role="region" aria-label="Plants">
      <div class="card">
        <h2>Plant Collection</h2>
        <p class="card-subtitle">Search, filter, and explore every cultivar in your studio from one tidy view.</p>
        <div class="toolbar">
          <input id="cultivarSearch" type="search" placeholder="Search cultivar, nickname, blossom, leaf, location‚Ä¶" />
          <div class="view-switch" role="group" aria-label="Plant layout view">
            <button type="button" class="view-switch-btn is-active" data-view="tiles" aria-pressed="true">Tiles</button>
            <button type="button" class="view-switch-btn" data-view="list" aria-pressed="false">List</button>
          </div>
          <button id="btnAddCultivar">+ Add Plant</button>
        </div>
        <div id="cultivarGrid" class="grid-cards"></div>
      </div>

      <div id="plantProfile" class="card hidden" role="region" aria-label="Plant profile">
        <h2>Plant Profile</h2>
        <p class="card-subtitle">Dive into details, care cadence, and history for the cultivar you're reviewing.</p>
        <div class="profile-top">
          <button id="profileBack" class="secondary">&larr; Back to plants</button>
          <div class="profile-top-actions">
            <button id="profileFavorite" type="button" class="btn-favorite" aria-pressed="false">‚òÜ Favorite</button>
            <button id="profileEdit">Edit</button>
            <button id="profileLogCare">Log Care</button>
          </div>
        </div>
        <div id="plantProfileContent"></div>
      </div>
    </section>

    <!-- HYBRIDIZATION PROJECTS -->
    <section id="tab-hybrid" class="tab" role="region" aria-label="Hybridization projects">
      <div class="card">
        <h2>Hybridization &amp; Cultivar Projects</h2>
        <p class="muted">Capture goals, parents, timelines, and experiments for every cross&mdash;or just track playful pollen swaps.</p>
        <div class="toolbar">
          <input id="projectSearch" type="search" placeholder="Search by project name, goal, trait, or note‚Ä¶" />
          <button id="btnAddProject">+ New Project</button>
        </div>
        <div id="projectList" class="project-list"></div>
      </div>

      <div id="projectDetail" class="card hidden" role="region" aria-label="Project detail">
        <div class="project-detail-header">
          <button id="projectDetailBack" class="secondary">&larr; Back to projects</button>
          <div class="project-detail-actions">
            <button id="projectDetailEdit">Edit</button>
            <button id="projectDetailDelete" class="danger">Delete</button>
          </div>
        </div>
        <div id="projectDetailContent"></div>
      </div>

      <dialog id="projectDialog">
        <form method="dialog" class="form-grid project-form" id="projectForm">
          <h3 id="projectDialogTitle">Add Hybridization Project</h3>
          <input type="hidden" id="projectId" />
          <label>Project Name* <input id="projectName" required placeholder="e.g., Frosted Star x Snow Queen" /></label>
          <label>Project Type
            <select id="projectType">
              <option value="goal">Goal-driven</option>
              <option value="exploratory">Exploratory (just for fun)</option>
            </select>
          </label>
          <div class="project-type-note" id="projectTypeNote"></div>
          <label>Start Date <input type="date" id="projectStartDate" /></label>
          <label>Status
            <select id="projectStatus">
              <option value="planning">Planning</option>
              <option value="pollinated">Pollinated</option>
              <option value="seedlings">Seedlings Growing</option>
              <option value="blooming">Blooming &amp; Selecting</option>
              <option value="registered">Registered/Named</option>
              <option value="archived">Archived</option>
            </select>
          </label>
          <div id="projectGoalGroup">
            <label>Vision for the Cultivar <textarea id="projectGoal" rows="3" placeholder="Describe the bloom, foliage, and habit you hope to see."></textarea></label>
          </div>
          <label>Target Traits &amp; Variables <textarea id="projectTraits" rows="3" placeholder="Color blends, leaf forms, growth habits, environment tweaks‚Ä¶"></textarea></label>

          <section class="repeat-group">
            <div class="repeat-group-header">
              <h4>Parents</h4>
              <button type="button" class="secondary" id="btnAddParent">Add Parent</button>
            </div>
            <div class="repeat-items" id="projectParentList"></div>
            <p class="muted small">List seed and pollen parents. Include cultivar names, clone IDs, or descriptors.</p>
          </section>

          <section class="repeat-group">
            <div class="repeat-group-header">
              <h4>Offspring &amp; Selections</h4>
              <button type="button" class="secondary" id="btnAddOffspring">Add Seedling</button>
            </div>
            <div class="repeat-items" id="projectOffspringList"></div>
            <p class="muted small">Track seedlings, keepers, and outcomes as they develop.</p>
          </section>

          <section class="repeat-group">
            <div class="repeat-group-header">
              <h4>Timeline</h4>
              <button type="button" class="secondary" id="btnAddTimeline">Add Milestone</button>
            </div>
            <div class="repeat-items" id="projectTimelineList"></div>
            <p class="muted small">Document pollination, sowing, germination, first blooms, and decisions.</p>
          </section>

          <section class="repeat-group">
            <div class="repeat-group-header">
              <h4>Experiment Variables</h4>
              <button type="button" class="secondary" id="btnAddVariable">Add Variable</button>
            </div>
            <div class="repeat-items" id="projectVariableList"></div>
            <p class="muted small">Capture soil mixes, fertilizers, lighting, or other tweaks.</p>
          </section>

          <label>Results &amp; Observations <textarea id="projectResults" rows="3" placeholder="Bloom notes, standouts, registration progress."></textarea></label>
          <label>General Notes <textarea id="projectNotes" rows="3" placeholder="Anything else to remember"></textarea></label>
          <menu>
            <button type="button" value="cancel" class="secondary" id="cancelProject">Cancel</button>
            <button id="saveProject" value="default">Save Project</button>
          </menu>
        </form>
      </dialog>

      <datalist id="projectParentSuggestions"></datalist>
    </section>

    <!-- CARE LOG -->
    <section id="tab-care" class="tab" role="region" aria-label="Care Log">
      <div class="card">
        <div class="toolbar">
          <label>Plant
            <select id="careFilterCultivar"></select>
          </label>
          <label>Action
            <select id="careFilterAction">
              <option value="">Any</option>
              <option>Watered</option><option>Fertilized</option><option>Repotted</option>
              <option>Groomed</option><option>Treated pests</option><option>Propagated</option>
            </select>
          </label>
          <label>Date From <input type="date" id="careFilterFrom" /></label>
          <label>Date To <input type="date" id="careFilterTo" /></label>
          <button id="btnExportCSV">Export CSV</button>
        </div>
        <table id="careTable" class="table">
          <thead>
            <tr>
              <th>Date</th><th>Plant</th><th>Action</th><th>Notes</th><th></th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- CALENDAR -->
    <section id="tab-calendar" class="tab" role="region" aria-label="Calendar">
      <div class="card calendar-card">
        <div class="calendar-heading">
          <div class="calendar-heading-main">
            <h2>Calendar</h2>
            <p class="card-subtitle">Map tasks across the month and balance routines with bloom goals.</p>
          </div>
          <div class="calendar-controls" role="group" aria-label="Change month">
            <button type="button" id="calendarPrev" aria-label="Previous month">&#8249;</button>
            <div id="calendarMonthLabel" aria-live="polite"></div>
            <button type="button" id="calendarNext" aria-label="Next month">&#8250;</button>
          </div>
        </div>
        <div class="calendar-weekdays" id="calendarWeekdays"></div>
        <div class="calendar-grid" id="calendarGrid"></div>
      </div>
      <div class="card">
        <h2>Add Calendar Task</h2>
        <p class="card-subtitle">Schedule chores, experiments, and bloom checkpoints right onto the grid.</p>
        <form id="calendarTaskForm" class="form-grid form-grid-compact">
          <label>Title
            <input id="calTaskTitle" required placeholder="Describe the task" />
          </label>
          <label>Date
            <input type="date" id="calTaskDate" required />
          </label>
          <label>Icon
            <select id="calTaskIcon">
              <option value="üìå">üìå General</option>
              <option value="ü™¥">ü™¥ Planting</option>
              <option value="üß∫">üß∫ Maintenance</option>
              <option value="üß™">üß™ Experiment</option>
              <option value="üìù">üìù Notes</option>
              <option value="‚≠ê">‚≠ê Milestone</option>
            </select>
          </label>
          <label>Notes
            <input id="calTaskNotes" placeholder="Optional details" />
          </label>
          <div class="form-actions">
            <button type="submit">Add Task</button>
          </div>
        </form>
      </div>
    </section>

    <!-- GUIDE -->
    <section id="tab-guide" class="tab" role="region" aria-label="African violet care guide">
      <div class="card">
        <h2>African Violet Essentials</h2>
        <p class="card-subtitle">Keep the core care principles handy whenever you need a quick refresher.</p>
        <p>
          African violets (<em>Saintpaulia</em>) are compact houseplants that reward consistent, gentle care with lush foliage and
          jewel-toned blooms. Use the guide below to tune light, moisture, and nutrition for your collection.
        </p>
        <div class="info-grid">
          <article>
            <h3>Light & Placement</h3>
            <ul>
              <li>Bright, filtered light from east or north windows keeps leaves flat and prevents scorching.</li>
              <li>Supplement with LED grow panels 8‚Äì12 inches above crowns for uniform bloom cycles.</li>
              <li>Rotate plants weekly to promote symmetrical rosettes.</li>
            </ul>
          </article>
          <article>
            <h3>Water & Humidity</h3>
            <ul>
              <li>Water when the top 1&nbsp;cm of mix feels barely dry; avoid saturating the crown.</li>
              <li>Use room-temperature water and bottom-water or wick to reduce splash spotting.</li>
              <li>Aim for 40‚Äì60% humidity with gentle airflow to deter botrytis.</li>
            </ul>
          </article>
          <article>
            <h3>Soil & Feeding</h3>
            <ul>
              <li>Plant in a loose, fast-draining mix (50% peat/coir, 25% perlite, 25% vermiculite/bark).</li>
              <li>Fertilize lightly every 2‚Äì4 weeks with balanced violet food (e.g., 14-12-14 at 1/4 strength).</li>
              <li>Refresh potting mix yearly; repot minis and trailers twice a year.</li>
            </ul>
          </article>
          <article>
            <h3>Temperature & Grooming</h3>
            <ul>
              <li>Ideal temperatures range 65‚Äì75&nbsp;¬∞F (18‚Äì24&nbsp;¬∞C); keep above 60&nbsp;¬∞F overnight.</li>
              <li>Remove spent blooms and yellowed leaves to encourage new growth.</li>
              <li>Inspect weekly for mealybugs, thrips, and mites; isolate and treat promptly.</li>
            </ul>
          </article>
        </div>
      </div>

      <div class="card">
        <h2>Foliage Forms</h2>
        <p class="card-subtitle">Compare leaf textures, variegation patterns, and growth habits at a glance.</p>
        <div class="guide-columns">
          <section>
            <h3>Leaf Texture</h3>
            <dl>
              <dt>Standard</dt>
              <dd>Typical slightly cupped leaves with moderate hair and broad blades.</dd>
              <dt>Quilted</dt>
              <dd>Deeply textured leaves with puckering between veins.</dd>
              <dt>Ruffled</dt>
              <dd>Edges curl or wave, adding frill to the rosette.</dd>
            </dl>
          </section>
          <section>
            <h3>Variegation</h3>
            <dl>
              <dt>Tommie Lou</dt>
              <dd>Clear white edging on otherwise green leaves.</dd>
              <dt>Crown variegated</dt>
              <dd>Cream or pink centers fading to green edges; more common in cooler temps.</dd>
              <dt>Mosaic/Chimera</dt>
              <dd>Patchy marbling or pinwheel striping caused by sectoral mutations.</dd>
            </dl>
          </section>
          <section>
            <h3>Growth Habit</h3>
            <dl>
              <dt>Trailing</dt>
              <dd>Multiple crowns form cascades suited to baskets.</dd>
              <dt>Boy/Girl</dt>
              <dd>Distinct petiole attachment shapes resembling pants or skirts.</dd>
              <dt>Spoon</dt>
              <dd>Leaves curl upward resembling spoons‚Äîoften miniatures.</dd>
            </dl>
          </section>
        </div>
      </div>

      <div class="card">
        <h2>Flower Types & Sizes</h2>
        <p class="card-subtitle">Decode bloom shapes, color effects, and size classes to label seedlings accurately.</p>
        <div class="guide-columns">
          <section>
            <h3>Bloom Forms</h3>
            <ul>
              <li><strong>Single:</strong> Five petals with visible anthers‚Äîclassic look.</li>
              <li><strong>Semi-double:</strong> Two rows of petals; central stamens peek through.</li>
              <li><strong>Double:</strong> Full, multi-petaled pom blooms with hidden centers.</li>
              <li><strong>Star:</strong> Pointed petals radiate evenly for a symmetric star.</li>
              <li><strong>Frilled/Fantasy:</strong> Ruffled edges or splashes of contrasting color.</li>
              <li><strong>Chimera:</strong> Pinwheel striping caused by distinct petal layers.</li>
            </ul>
          </section>
          <section>
            <h3>Color Patterns</h3>
            <ul>
              <li><strong>Solid:</strong> Uniform color from throat to tips.</li>
              <li><strong>Bi-color:</strong> Contrasting eye, edge, or underside hues.</li>
              <li><strong>Fantasy:</strong> Speckles or streaks over a base color.</li>
              <li><strong>Edge/Picotee:</strong> Distinct banding around petal edges.</li>
              <li><strong>Chimera:</strong> Genetic striping‚Äîpropagated by suckers only.</li>
            </ul>
          </section>
          <section>
            <h3>Size Classes</h3>
            <ul>
              <li><strong>Micro:</strong> Under 3&quot; leaf span; thrive in shot-glass pots.</li>
              <li><strong>Miniature:</strong> Up to 6&quot; spread; use 2&quot; pots and wick watering.</li>
              <li><strong>Semi-mini:</strong> 6‚Äì8&quot; rosettes; 2.5‚Äì3&quot; pots keep crowns tight.</li>
              <li><strong>Standard:</strong> 8‚Äì16&quot; spread; 4‚Äì5&quot; pots are typical.</li>
              <li><strong>Large:</strong> 16‚Äì24&quot; spread; support with wider saucers.</li>
              <li><strong>Trailer:</strong> Multi-crown vines; shallow pans encourage branching.</li>
            </ul>
          </section>
        </div>
      </div>
    </section>

    <!-- SETTINGS -->
    <section id="tab-settings" class="tab" role="region" aria-label="Settings">
      <div class="card">
        <h2>Data</h2>
        <p class="card-subtitle">Safeguard your collection by exporting backups and bringing records with you.</p>
        <div class="toolbar">
          <button id="btnImport">Import JSON</button>
          <button id="btnExport">Export JSON</button>
          <button id="btnLoadSample" class="secondary">Load Sample Data</button>
          <button id="btnErase" class="danger">Erase All Data</button>
        </div>
        <p class="muted">Data is stored locally in your browser (localStorage). Export regularly for backup.</p>
      </div>
      <div class="card">
        <h2>About</h2>
        <p class="card-subtitle">A focused, offline workspace tailored to African violet growers.</p>
        <p>Track your <em>Saintpaulia</em> cultivars and care routine. Add plants, log actions, and plan upcoming tasks. No accounts, no ads.</p>
      </div>
    </section>
  </main>

  <footer>
    <small>&copy; 2025 Katrina Brye ¬∑ Saintpaulia Studio ¬∑ Local app</small>
  </footer>

  <input id="fileImport" type="file" accept="application/json" hidden />
  <dialog id="dayDetailDialog">
    <div class="day-dialog">
      <div class="day-dialog-header">
        <h3 id="dayDetailTitle"></h3>
        <button type="button" id="dayDetailClose" aria-label="Close day details">&times;</button>
      </div>
        <div id="dayDetailContent" class="day-dialog-content"></div>
      <div class="day-dialog-footer">
        <button type="button" id="dayDetailAddTask" class="secondary">Add Task for this day</button>
      </div>
    </div>
  </dialog>
  <script src="app.js"></script>
</body>
</html>
